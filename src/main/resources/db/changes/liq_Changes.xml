<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.6.xsd">

    <changeSet author="MShahabi" id="1680937108">
        <sql splitStatements="false" stripComments="false">
            <![CDATA[
            DECLARE
            l_catalog_type_id NUMBER;
            BEGIN
            BEGIN
            l_catalog_type_id
            := seq_catalog_type_id.nextval;
            END;
            BEGIN
            INSERT INTO tbl_catalog_type (id,
                                          c_created_by,
                                          d_created_date,
                                          c_last_modified_by,
                                          d_last_modified_date,
                                          n_version,
                                          c_title,
                                          c_code,
                                          c_description)
            VALUES (l_catalog_type_id,
                    'MShahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    'سطح تعریف',
                    'LevelDef',
                    '');
            END;
            BEGIN
            INSERT INTO tbl_catalog (id,
                                     c_created_by,
                                     d_created_date,
                                     c_last_modified_by,
                                     d_last_modified_date,
                                     n_version,
                                     f_catalog_type_id,
                                     c_title,
                                     c_code,
                                     c_description)
            VALUES (seq_catalog_id.NEXTVAL,
                    'MShahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    l_catalog_type_id,
                    'گروه',
                    'group',
                    '');
            END;
            BEGIN
            INSERT INTO tbl_catalog (id,
                                     c_created_by,
                                     d_created_date,
                                     c_last_modified_by,
                                     d_last_modified_date,
                                     n_version,
                                     f_catalog_type_id,
                                     c_title,
                                     c_code,
                                     c_description)
            VALUES (seq_catalog_id.NEXTVAL,
                    'MShahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    l_catalog_type_id,
                    'پست سازمانی',
                    'organizationalPosition',
                    '');
            END;
            END;
            ]]>
        </sql>
    </changeSet>

    <changeSet author="MShahabi" id="1681027412">
        <addColumn tableName="tbl_group_type">
            <column name="c_code" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>
    <changeSet author="semami" id="1681644442">
        <addNotNullConstraint tableName="tbl_kpi_type" columnName="c_code"/>
        <addNotNullConstraint tableName="tbl_kpi_type" columnName="c_title"/>
        <addNotNullConstraint tableName="tbl_kpi_type" columnName="level_def_id"/>
    </changeSet>
    <changeSet author="semami" id="1681645525">
        <addNotNullConstraint tableName="tbl_group_type" columnName="kpi_type_id"/>
        <addNotNullConstraint tableName="tbl_group_type" columnName="group_id"/>
        <addNotNullConstraint tableName="tbl_group_type" columnName="n_weight"/>
    </changeSet>
    <changeSet author="semami" id="1681645947">
        <addNotNullConstraint tableName="tbl_group" columnName="c_code"/>
        <addNotNullConstraint tableName="tbl_group" columnName="c_title"/>
    </changeSet>
    <changeSet author="semami" id="1681646472">
        <addNotNullConstraint tableName="tbl_group_grade" columnName="c_grade_code"/>
        <addNotNullConstraint tableName="tbl_group_grade" columnName="c_grade_title"/>
        <addNotNullConstraint tableName="tbl_group_grade" columnName="group_id"/>
    </changeSet>
    <changeSet author="a.lotfi" id="1681711368">
        <addNotNullConstraint tableName="tbl_instance" columnName="c_code"/>
        <addNotNullConstraint tableName="tbl_instance" columnName="c_title"/>
    </changeSet>
    <changeSet author="a.lotfi" id="1681711444">
        <addNotNullConstraint tableName="tbl_group_type_merit" columnName="group_type_id"/>
        <addNotNullConstraint tableName="tbl_group_type_merit" columnName="merit_component_id"/>
        <addNotNullConstraint tableName="tbl_group_type_merit" columnName="n_weight"/>
    </changeSet>

    <changeSet author="MShahabi" id="1681742476">
        <sql splitStatements="false" stripComments="false">
            <![CDATA[
            DECLARE
            l_catalog_type_id NUMBER;
            BEGIN
            BEGIN
            l_catalog_type_id
            := seq_catalog_type_id.nextval;
            END;
            BEGIN
            INSERT INTO tbl_catalog_type (id,
                                          c_created_by,
                                          d_created_date,
                                          c_last_modified_by,
                                          d_last_modified_date,
                                          n_version,
                                          c_title,
                                          c_code,
                                          c_description)
            VALUES (l_catalog_type_id,
                    'MShahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    'عناوین اسناد گروهی',
                    'BatchTitles',
                    '');
            END;
            BEGIN
            INSERT INTO tbl_catalog (id,
                                     c_created_by,
                                     d_created_date,
                                     c_last_modified_by,
                                     d_last_modified_date,
                                     n_version,
                                     f_catalog_type_id,
                                     c_title,
                                     c_code,
                                     c_description)
            VALUES (seq_catalog_id.NEXTVAL,
                    'MShahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    l_catalog_type_id,
                    'ایجاد گروهی نوع -  از اکسل',
                    'BatchCreate-KPIType-Excel',
                    '');
            END;
            END;
            ]]>
        </sql>
    </changeSet>

    <changeSet author="MShahabi" id="1681746042">
        <sql splitStatements="false" stripComments="false">
            <![CDATA[
            DECLARE
            l_catalog_type_id NUMBER;
            BEGIN
            BEGIN
            l_catalog_type_id
            := seq_catalog_type_id.nextval;
            END;
            BEGIN
            INSERT INTO tbl_catalog_type (id,
                                          c_created_by,
                                          d_created_date,
                                          c_last_modified_by,
                                          d_last_modified_date,
                                          n_version,
                                          c_title,
                                          c_code,
                                          c_description)
            VALUES (l_catalog_type_id,
                    'MShahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    'وضعیت اسناد گروهی',
                    'BatchStatus',
                    '');
            END;
            BEGIN
            INSERT INTO tbl_catalog (id,
                                     c_created_by,
                                     d_created_date,
                                     c_last_modified_by,
                                     d_last_modified_date,
                                     n_version,
                                     f_catalog_type_id,
                                     c_title,
                                     c_code,
                                     c_description)
            VALUES (seq_catalog_id.NEXTVAL,
                    'MShahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    l_catalog_type_id,
                    'در حال انجام',
                    'In-progress',
                    '');
            END;
            BEGIN
            INSERT INTO tbl_catalog (id,
                                     c_created_by,
                                     d_created_date,
                                     c_last_modified_by,
                                     d_last_modified_date,
                                     n_version,
                                     f_catalog_type_id,
                                     c_title,
                                     c_code,
                                     c_description)
            VALUES (seq_catalog_id.NEXTVAL,
                    'MShahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    l_catalog_type_id,
                    'تکمیل شده',
                    'Completed',
                    '');
            END;
            END;
            ]]>
        </sql>
    </changeSet>

    <changeSet author="MShahabi" id="1681819114">
        <sql splitStatements="false" stripComments="false">
            <![CDATA[
            DECLARE
            l_catalog_type_id NUMBER;
            BEGIN
            BEGIN
            l_catalog_type_id
            := seq_catalog_type_id.nextval;
            END;
            BEGIN
            INSERT INTO tbl_catalog_type (id,
                                          c_created_by,
                                          d_created_date,
                                          c_last_modified_by,
                                          d_last_modified_date,
                                          n_version,
                                          c_title,
                                          c_code,
                                          c_description)
            VALUES (l_catalog_type_id,
                    'MShahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    'وضعیت جزئیات اسناد گروهی',
                    'BatchDetailStatus',
                    '');
            END;
            BEGIN
            INSERT INTO tbl_catalog (id,
                                     c_created_by,
                                     d_created_date,
                                     c_last_modified_by,
                                     d_last_modified_date,
                                     n_version,
                                     f_catalog_type_id,
                                     c_title,
                                     c_code,
                                     c_description)
            VALUES (seq_catalog_id.NEXTVAL,
                    'MShahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    l_catalog_type_id,
                    'موفق',
                    'Successful',
                    '');
            END;
            BEGIN
            INSERT INTO tbl_catalog (id,
                                     c_created_by,
                                     d_created_date,
                                     c_last_modified_by,
                                     d_last_modified_date,
                                     n_version,
                                     f_catalog_type_id,
                                     c_title,
                                     c_code,
                                     c_description)
            VALUES (seq_catalog_id.NEXTVAL,
                    'MShahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    l_catalog_type_id,
                    'ناموفق',
                    'Failed',
                    '');
            END;
            END;
            ]]>
        </sql>
    </changeSet>

    <changeSet author="MShahabi" id="1681737861">
        <addNotNullConstraint tableName="tbl_instance_group_type_merit" columnName="instance_id"/>
    </changeSet>
    <changeSet author="semami" id="1682399809">
        <addNotNullConstraint tableName="tbl_post_merit_instance" columnName="instance_id"/>
        <addNotNullConstraint tableName="tbl_post_merit_instance" columnName="post_merit_component_id"/>
    </changeSet>
    <changeSet author="semami" id="1682418097">
        <addNotNullConstraint tableName="tbl_post_merit_component" columnName="merit_component_id"/>
        <addNotNullConstraint tableName="tbl_post_merit_component" columnName="c_group_post_code"/>
        <addNotNullConstraint tableName="tbl_post_merit_component" columnName="n_weight"/>
    </changeSet>

    <changeSet author="MShahabi" id="1681727591">
        <sql splitStatements="false" stripComments="false">
            <![CDATA[
            DECLARE
            l_catalog_type_id NUMBER;
            BEGIN
            BEGIN
            SELECT id
            INTO l_catalog_type_id
            FROM tbl_catalog_type
            WHERE c_code = 'BatchDetailStatus';
            END;
            BEGIN
            INSERT INTO tbl_catalog (id,
                                     c_created_by,
                                     d_created_date,
                                     c_last_modified_by,
                                     d_last_modified_date,
                                     n_version,
                                     f_catalog_type_id,
                                     c_title,
                                     c_code,
                                     c_description)
            VALUES (seq_catalog_id.NEXTVAL,
                    'MShahabi',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    l_catalog_type_id,
                    'در حال پردازش',
                    'Processing',
                    '');
            END;
            END;
            ]]>
        </sql>
    </changeSet>

    <changeSet author="semami" id="1682493972">
        <sql splitStatements="false" stripComments="false">
            <![CDATA[
            DECLARE
            l_catalog_type_id NUMBER;
            BEGIN
            BEGIN
            l_catalog_type_id
            := seq_catalog_type_id.nextval;
            END;
            BEGIN
            INSERT INTO tbl_catalog_type (id,
                                          c_created_by,
                                          d_created_date,
                                          c_last_modified_by,
                                          d_last_modified_date,
                                          n_version,
                                          c_title,
                                          c_code,
                                          c_description)
            VALUES (l_catalog_type_id,
                    'semami',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    'وضعیت وقایع حساس',
                    'SensitiveEventsStatus',
                    '');
            END;
            BEGIN
            INSERT INTO tbl_catalog (id,
                                     c_created_by,
                                     d_created_date,
                                     c_last_modified_by,
                                     d_last_modified_date,
                                     n_version,
                                     f_catalog_type_id,
                                     c_title,
                                     c_code,
                                     c_description)
            VALUES (seq_catalog_id.NEXTVAL,
                    'semami',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    l_catalog_type_id,
                    'لغو شده',
                    'Canceled',
                    '');
            END;
            BEGIN
            INSERT INTO tbl_catalog (id,
                                     c_created_by,
                                     d_created_date,
                                     c_last_modified_by,
                                     d_last_modified_date,
                                     n_version,
                                     f_catalog_type_id,
                                     c_title,
                                     c_code,
                                     c_description)
            VALUES (seq_catalog_id.NEXTVAL,
                    'semami',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    l_catalog_type_id,
                    'تائید شده',
                    'Verified',
                    '');
            INSERT INTO tbl_catalog (id,
                                     c_created_by,
                                     d_created_date,
                                     c_last_modified_by,
                                     d_last_modified_date,
                                     n_version,
                                     f_catalog_type_id,
                                     c_title,
                                     c_code,
                                     c_description)
            VALUES (seq_catalog_id.NEXTVAL,
                    'semami',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    l_catalog_type_id,
                    'در انتظار بررسی',
                    'Pending',
                    '');
            END;
            END;
            ]]>
        </sql>
    </changeSet>
    <changeSet author="semami" id="1682506152">
        <sql splitStatements="false" stripComments="false">
            <![CDATA[
            DECLARE
            l_catalog_type_id NUMBER;
            BEGIN
            BEGIN
            l_catalog_type_id
            := seq_catalog_type_id.nextval;
            END;
            BEGIN
            INSERT INTO tbl_catalog_type (id,
                                          c_created_by,
                                          d_created_date,
                                          c_last_modified_by,
                                          d_last_modified_date,
                                          n_version,
                                          c_title,
                                          c_code,
                                          c_description)
            VALUES (l_catalog_type_id,
                    'semami',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    'نوع وقایع حساس',
                    'SensitiveEventsType',
                    '');
            END;
            BEGIN
            INSERT INTO tbl_catalog (id,
                                     c_created_by,
                                     d_created_date,
                                     c_last_modified_by,
                                     d_last_modified_date,
                                     n_version,
                                     f_catalog_type_id,
                                     c_title,
                                     c_code,
                                     c_description)
            VALUES (seq_catalog_id.NEXTVAL,
                    'semami',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    l_catalog_type_id,
                    'مثبت',
                    'Positive',
                    '');
            END;
            BEGIN
            INSERT INTO tbl_catalog (id,
                                     c_created_by,
                                     d_created_date,
                                     c_last_modified_by,
                                     d_last_modified_date,
                                     n_version,
                                     f_catalog_type_id,
                                     c_title,
                                     c_code,
                                     c_description)
            VALUES (seq_catalog_id.NEXTVAL,
                    'semami',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    l_catalog_type_id,
                    'منفی',
                    'Negative',
                    '');
            END;
            END;
            ]]>
        </sql>
    </changeSet>
    <changeSet author="semami" id="1682506379">
        <sql splitStatements="false" stripComments="false">
            <![CDATA[
            DECLARE
            l_catalog_type_id NUMBER;
            BEGIN
            BEGIN
            l_catalog_type_id
            := seq_catalog_type_id.nextval;
            END;
            BEGIN
            INSERT INTO tbl_catalog_type (id,
                                          c_created_by,
                                          d_created_date,
                                          c_last_modified_by,
                                          d_last_modified_date,
                                          n_version,
                                          c_title,
                                          c_code,
                                          c_description)
            VALUES (l_catalog_type_id,
                    'semami',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    'سیاست رویداد وقایع حساس',
                    'SensitiveEventsType',
                    '');
            END;
            BEGIN
            INSERT INTO tbl_catalog (id,
                                     c_created_by,
                                     d_created_date,
                                     c_last_modified_by,
                                     d_last_modified_date,
                                     n_version,
                                     f_catalog_type_id,
                                     c_title,
                                     c_code,
                                     c_description)
            VALUES (seq_catalog_id.NEXTVAL,
                    'semami',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    l_catalog_type_id,
                    'عادی',
                    'Normal',
                    '');
            END;
            BEGIN
            INSERT INTO tbl_catalog (id,
                                     c_created_by,
                                     d_created_date,
                                     c_last_modified_by,
                                     d_last_modified_date,
                                     n_version,
                                     f_catalog_type_id,
                                     c_title,
                                     c_code,
                                     c_description)
            VALUES (seq_catalog_id.NEXTVAL,
                    'semami',
                    current_timestamp,
                    NULL,
                    NULL,
                    0,
                    l_catalog_type_id,
                    'موثر',
                    'Effective',
                    '');
            END;
            END;
            ]]>
        </sql>
    </changeSet>
    <changeSet author="semami" id="1682753128">
        <addColumn tableName="tbl_sensitive_events">
            <column name="c_description" type="VARCHAR2(2000 CHAR)"/>
        </addColumn>
        <addColumn tableName="tbl_sensitive_event_person">
            <column name="n_participation" type="NUMBER(10, 0)"/>
        </addColumn>
    </changeSet>
    <changeSet author="semami" id="1682753758">
        <addNotNullConstraint tableName="tbl_sensitive_events" columnName="c_title"/>
        <addNotNullConstraint tableName="tbl_sensitive_events" columnName="d_event_date"/>
        <addNotNullConstraint tableName="tbl_sensitive_events" columnName="n_level_effect"/>
        <addNotNullConstraint tableName="tbl_sensitive_events" columnName="type_catalog_id"/>
        <addNotNullConstraint tableName="tbl_sensitive_events" columnName="event_policy_catalog_id"/>
        <addNotNullConstraint tableName="tbl_sensitive_events" columnName="status_catalog_id"/>
        <addNotNullConstraint tableName="tbl_sensitive_events" columnName="c_description"/>
        <addNotNullConstraint tableName="tbl_sensitive_event_person" columnName="c_national_code"/>
        <addNotNullConstraint tableName="tbl_sensitive_event_person" columnName="sensitive_event_id"/>
        <addNotNullConstraint tableName="tbl_sensitive_event_person" columnName="merit_component_id"/>
        <addNotNullConstraint tableName="tbl_sensitive_event_person" columnName="n_participation"/>
    </changeSet>
    <changeSet author="semami" id="1682758362">
        <addColumn tableName="tbl_sensitive_events">
            <column name="d_to_date" type="TIMESTAMP"/>
        </addColumn>
    </changeSet>
     <changeSet author="semami" id="1682938091">
        <addColumn tableName="tbl_sensitive_events">
            <column name="c_national_code" type="VARCHAR2(255 CHAR)"/>
        </addColumn>
    </changeSet>
</databaseChangeLog>
